<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Java Streams API - Xử lý dữ liệu hiệu quả</title><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css><link rel=stylesheet href=https://qtrungvn.github.io/myblog_qtrung/css/main.min.49689da3cfe3cc0b12afb45776349f32d2eef4d5ad8244ce26fb7f01d91d5d43.css></head><body><header><nav><a href=../../>Home</a>
<a href=../../posts>Blog</a>
<a href=../../about>About Me</a>
<a href=../../contact>Contact</a></nav><button id=dark-mode-toggle><i class="fas fa-moon"></i></button></header><main><section class=page><div class=container><h1>Java Streams API - Xử lý dữ liệu hiệu quả</h1><div class=page-content><h1 id=java-streams-api---xử-lý-dữ-liệu-hiệu-quả>Java Streams API - Xử lý dữ liệu hiệu quả</h1><p>Java Streams API, được giới thiệu từ Java 8, cung cấp một cách khai báo để xử lý dữ liệu. Streams cho phép thực hiện các phép toán phức tạp trên collections một cách dễ đọc và hiệu quả.</p><h2 id=giới-thiệu-về-streams>Giới thiệu về Streams</h2><p>Stream là một sequence của các phần tử hỗ trợ các phép toán tổng hợp tuần tự và song song.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.stream.Stream;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StreamBasics</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tạo Stream từ Collection</span>
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> names <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(<span style=color:#e6db74>&#34;Alice&#34;</span>, <span style=color:#e6db74>&#34;Bob&#34;</span>, <span style=color:#e6db74>&#34;Charlie&#34;</span>, <span style=color:#e6db74>&#34;David&#34;</span>);
</span></span><span style=display:flex><span>        Stream<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> nameStream <span style=color:#f92672>=</span> names.<span style=color:#a6e22e>stream</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tạo Stream từ Array</span>
</span></span><span style=display:flex><span>        String<span style=color:#f92672>[]</span> array <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;Java&#34;</span>, <span style=color:#e6db74>&#34;Python&#34;</span>, <span style=color:#e6db74>&#34;JavaScript&#34;</span>};
</span></span><span style=display:flex><span>        Stream<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> arrayStream <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>stream</span>(array);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tạo Stream từ các giá trị</span>
</span></span><span style=display:flex><span>        Stream<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> valueStream <span style=color:#f92672>=</span> Stream.<span style=color:#a6e22e>of</span>(<span style=color:#e6db74>&#34;A&#34;</span>, <span style=color:#e6db74>&#34;B&#34;</span>, <span style=color:#e6db74>&#34;C&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tạo Stream vô hạn</span>
</span></span><span style=display:flex><span>        Stream<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> infiniteStream <span style=color:#f92672>=</span> Stream.<span style=color:#a6e22e>iterate</span>(1, n <span style=color:#f92672>-&gt;</span> n <span style=color:#f92672>+</span> 1);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=các-phép-toán-trung-gian-intermediate-operations>Các phép toán trung gian (Intermediate Operations)</h2><p>Các phép toán trung gian trả về một Stream mới và có thể được chain lại với nhau.</p><h3 id=filter---lọc-phần-tử>filter() - Lọc phần tử</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FilterExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> languages <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(<span style=color:#e6db74>&#34;Java&#34;</span>, <span style=color:#e6db74>&#34;Python&#34;</span>, <span style=color:#e6db74>&#34;JavaScript&#34;</span>, <span style=color:#e6db74>&#34;C++&#34;</span>, <span style=color:#e6db74>&#34;Ruby&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        languages.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>filter</span>(lang <span style=color:#f92672>-&gt;</span> lang.<span style=color:#a6e22e>length</span>() <span style=color:#f92672>&gt;</span> 4)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Output: Python, JavaScript</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=map---biến-đổi-phần-tử>map() - Biến đổi phần tử</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.stream.Collectors;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MapExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> names <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(<span style=color:#e6db74>&#34;alice&#34;</span>, <span style=color:#e6db74>&#34;bob&#34;</span>, <span style=color:#e6db74>&#34;charlie&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> upperCaseNames <span style=color:#f92672>=</span> names.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>map</span>(String::toUpperCase)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toList</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(upperCaseNames); <span style=color:#75715e>// [ALICE, BOB, CHARLIE]</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=sorted---sắp-xếp>sorted() - Sắp xếp</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SortedExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numbers <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(3, 1, 4, 1, 5, 9, 2, 6);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        numbers.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>sorted</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Output: 1, 1, 2, 3, 4, 5, 6, 9</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=distinct---loại-bỏ-trùng-lặp>distinct() - Loại bỏ trùng lặp</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DistinctExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numbers <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(1, 2, 2, 3, 3, 3, 4);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        numbers.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>distinct</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Output: 1, 2, 3, 4</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=các-phép-toán-cuối-cùng-terminal-operations>Các phép toán cuối cùng (Terminal Operations)</h2><p>Các phép toán cuối cùng trả về kết quả không phải là Stream.</p><h3 id=collect---thu-thập-kết-quả>collect() - Thu thập kết quả</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Set;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.stream.Collectors;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CollectExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> languages <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(<span style=color:#e6db74>&#34;Java&#34;</span>, <span style=color:#e6db74>&#34;Python&#34;</span>, <span style=color:#e6db74>&#34;Java&#34;</span>, <span style=color:#e6db74>&#34;C++&#34;</span>, <span style=color:#e6db74>&#34;Python&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Thu thập thành List</span>
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> distinctLanguages <span style=color:#f92672>=</span> languages.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>distinct</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toList</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Thu thập thành Set</span>
</span></span><span style=display:flex><span>        Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> languageSet <span style=color:#f92672>=</span> languages.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toSet</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Thu thập thành String</span>
</span></span><span style=display:flex><span>        String joined <span style=color:#f92672>=</span> languages.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>distinct</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>joining</span>(<span style=color:#e6db74>&#34;, &#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(joined); <span style=color:#75715e>// Java, Python, C++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=foreach---duyệt-qua-các-phần-tử>forEach() - Duyệt qua các phần tử</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ForEachExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> fruits <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(<span style=color:#e6db74>&#34;Apple&#34;</span>, <span style=color:#e6db74>&#34;Banana&#34;</span>, <span style=color:#e6db74>&#34;Orange&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        fruits.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>map</span>(String::toUpperCase)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=reduce---thu-gọn-thành-một-giá-trị>reduce() - Thu gọn thành một giá trị</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Optional;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReduceExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numbers <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(1, 2, 3, 4, 5);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tính tổng</span>
</span></span><span style=display:flex><span>        Optional<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> sum <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>reduce</span>((a, b) <span style=color:#f92672>-&gt;</span> a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        sum.<span style=color:#a6e22e>ifPresent</span>(System.<span style=color:#a6e22e>out</span>::println); <span style=color:#75715e>// 15</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tính tổng với giá trị khởi tạo</span>
</span></span><span style=display:flex><span>        Integer sumWithInitial <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>reduce</span>(10, (a, b) <span style=color:#f92672>-&gt;</span> a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(sumWithInitial); <span style=color:#75715e>// 25</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=count-min-max>count(), min(), max()</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AggregateExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numbers <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(1, 2, 3, 4, 5);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> count <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>().<span style=color:#a6e22e>count</span>();
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Count: &#34;</span> <span style=color:#f92672>+</span> count); <span style=color:#75715e>// 5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> max <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>().<span style=color:#a6e22e>max</span>(Integer::compare).<span style=color:#a6e22e>orElse</span>(0);
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Max: &#34;</span> <span style=color:#f92672>+</span> max); <span style=color:#75715e>// 5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> min <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>().<span style=color:#a6e22e>min</span>(Integer::compare).<span style=color:#a6e22e>orElse</span>(0);
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Min: &#34;</span> <span style=color:#f92672>+</span> min); <span style=color:#75715e>// 1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ví-dụ-thực-tế-xử-lý-dữ-liệu-người-dùng>Ví dụ thực tế: Xử lý dữ liệu người dùng</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Map;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.stream.Collectors;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> age;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String department;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>User</span>(String name, <span style=color:#66d9ef>int</span> age, String department) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> age;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>department</span> <span style=color:#f92672>=</span> department;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getName</span>() { <span style=color:#66d9ef>return</span> name; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getAge</span>() { <span style=color:#66d9ef>return</span> age; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getDepartment</span>() { <span style=color:#66d9ef>return</span> department; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; (&#34;</span> <span style=color:#f92672>+</span> age <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, &#34;</span> <span style=color:#f92672>+</span> department <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;)&#34;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserProcessing</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>&gt;</span> users <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> User(<span style=color:#e6db74>&#34;Alice&#34;</span>, 25, <span style=color:#e6db74>&#34;IT&#34;</span>),
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> User(<span style=color:#e6db74>&#34;Bob&#34;</span>, 30, <span style=color:#e6db74>&#34;HR&#34;</span>),
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> User(<span style=color:#e6db74>&#34;Charlie&#34;</span>, 28, <span style=color:#e6db74>&#34;IT&#34;</span>),
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> User(<span style=color:#e6db74>&#34;David&#34;</span>, 35, <span style=color:#e6db74>&#34;Finance&#34;</span>),
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> User(<span style=color:#e6db74>&#34;Eve&#34;</span>, 22, <span style=color:#e6db74>&#34;IT&#34;</span>)
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Lọc người dùng IT có tuổi &gt; 24</span>
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>&gt;</span> itUsers <span style=color:#f92672>=</span> users.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>filter</span>(user <span style=color:#f92672>-&gt;</span> <span style=color:#e6db74>&#34;IT&#34;</span>.<span style=color:#a6e22e>equals</span>(user.<span style=color:#a6e22e>getDepartment</span>()))
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>filter</span>(user <span style=color:#f92672>-&gt;</span> user.<span style=color:#a6e22e>getAge</span>() <span style=color:#f92672>&gt;</span> 24)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toList</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;IT Users &gt; 24: &#34;</span> <span style=color:#f92672>+</span> itUsers);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Nhóm theo department</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, List<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>&gt;&gt;</span> usersByDept <span style=color:#f92672>=</span> users.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>groupingBy</span>(User::getDepartment));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Users by department: &#34;</span> <span style=color:#f92672>+</span> usersByDept);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Tính tuổi trung bình</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> averageAge <span style=color:#f92672>=</span> users.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>mapToInt</span>(User::getAge)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>average</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>orElse</span>(0.<span style=color:#a6e22e>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Average age: &#34;</span> <span style=color:#f92672>+</span> averageAge);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=parallel-streams>Parallel Streams</h2><p>Streams có thể được thực thi song song để tận dụng nhiều core CPU:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ParallelStreamExample</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numbers <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Sequential processing</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> sequentialStart <span style=color:#f92672>=</span> System.<span style=color:#a6e22e>currentTimeMillis</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> sequentialSum <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>map</span>(n <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>try</span> { Thread.<span style=color:#a6e22e>sleep</span>(10); } <span style=color:#66d9ef>catch</span> (Exception e) {}
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> n <span style=color:#f92672>*</span> 2;
</span></span><span style=display:flex><span>                })
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>reduce</span>(0, Integer::sum);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> sequentialEnd <span style=color:#f92672>=</span> System.<span style=color:#a6e22e>currentTimeMillis</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Parallel processing</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> parallelStart <span style=color:#f92672>=</span> System.<span style=color:#a6e22e>currentTimeMillis</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> parallelSum <span style=color:#f92672>=</span> numbers.<span style=color:#a6e22e>parallelStream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>map</span>(n <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>try</span> { Thread.<span style=color:#a6e22e>sleep</span>(10); } <span style=color:#66d9ef>catch</span> (Exception e) {}
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> n <span style=color:#f92672>*</span> 2;
</span></span><span style=display:flex><span>                })
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>reduce</span>(0, Integer::sum);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> parallelEnd <span style=color:#f92672>=</span> System.<span style=color:#a6e22e>currentTimeMillis</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Sequential time: &#34;</span> <span style=color:#f92672>+</span> (sequentialEnd <span style=color:#f92672>-</span> sequentialStart) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;ms&#34;</span>);
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Parallel time: &#34;</span> <span style=color:#f92672>+</span> (parallelEnd <span style=color:#f92672>-</span> parallelStart) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;ms&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=lưu-ý-quan-trọng>Lưu ý quan trọng</h2><ol><li><strong>Streams không thể tái sử dụng</strong>: Một Stream chỉ có thể được consume một lần</li><li><strong>Lazy evaluation</strong>: Các phép toán trung gian chỉ được thực thi khi gặp phép toán cuối cùng</li><li><strong>Side-effects</strong>: Tránh sử dụng side-effects trong lambda expressions</li><li><strong>Performance</strong>: Không phải lúc nào parallel streams cũng nhanh hơn sequential</li></ol><h2 id=kết-luận>Kết luận</h2><p>Java Streams API cung cấp một cách mạnh mẽ và khai báo để xử lý dữ liệu. Việc kết hợp các phép toán trung gian và cuối cùng cho phép viết code ngắn gọn, dễ đọc và dễ bảo trì.</p></div></div></section></main><footer><div class=footer-content><div class=footer-section><h3>My Blog</h3><p>Khám phá những bài viết chất lượng về công nghệ, lập trình, và các
xu hướng mới nhất.</p></div><div class=footer-section><h3>Liên kết nhanh</h3><ul><li><a href=../../>Trang Chủ</a></li><li><a href=../../about>Về tôi</a></li><li><a href=../../posts>Blog</a></li><li><a href=../../contact>Liên hệ</a></li></ul></div><div class=footer-section><h3>Danh mục</h3><ul><li><a href=../../categories/web-development>Web Development</a></li><li><a href=../../categories/trí-tuệ-nhân-tạo>AI</a></li><li><a href=../../categories/java>Java</a></li><li><a href=../../categories/javascript>JavaScript</a></li></ul></div><div class=footer-section><h3>Kết nối</h3><div class=social-links><a href=https://www.facebook.com/trung.tran.572662><i class="fab fa-facebook"></i></a>
<a href=#><i class="fab fa-twitter"></i></a>
<a href=https://www.instagram.com/trungkg915/><i class="fab fa-instagram"></i></a>
<a href=#><i class="fab fa-github"></i></a></div></div></div><div class=footer-bottom><p>&copy; 2025 My Blog. All rights reserved.</p></div></footer><script>const toggleButton=document.getElementById("dark-mode-toggle"),body=document.body,icon=toggleButton.querySelector("i"),currentTheme=localStorage.getItem("theme")||"light";currentTheme==="dark"&&(body.classList.add("dark-mode"),icon.classList.remove("fa-moon"),icon.classList.add("fa-sun")),toggleButton.addEventListener("click",()=>{body.classList.toggle("dark-mode");const e=body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e),e==="dark"?(icon.classList.remove("fa-moon"),icon.classList.add("fa-sun")):(icon.classList.remove("fa-sun"),icon.classList.add("fa-moon"))})</script></body></html>